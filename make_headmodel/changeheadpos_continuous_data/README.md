## Plan: 
1) dump hlc channels for grandDS
2) read in hlc data, compute mean
3) multiply means by 100
4) construct commands to changeheadpos


## 1) Dump HLC channels -- head movement visual check (quality control)
First, dump HLC channels to `.dat` files for use in Matlab by running:
```bash
./create_hlc_dat.sh
```
Second, __open up Matlab__ and plot the HLC readings by running this script: `changeheadpos_fiducial_visual_check.m`. 

Output will look something like this (all head motion is <0.5mm, which is good):

![Alt text](https://github.com/alicarogojin/MEG_bimanual_squeeze/assets/45542215/a0851992-a266-4cdb-b8e5-422d53699e17)

## 2) Generate commands to compensate for head movement
First, run this python[^python_run] script: `generate_headposcommands.py`

[^python_run]: e.g. by `python3 my_script_name.py` in a shell

Second, __run the commands in headposcommands.txt__ generated by the above python code (will first need to `cd /auto/iduna/arogojin/bilateral_squeeze_test/PROC/${subj}`)

```bash
# NOT USED IN BIMANUAL PIPELINE
######For correcting head position (not well tested)

grandDs \
sentrun_01.ds \
sentrun_02.ds \
sentrun_03.ds \
sentrun_04.ds \
sentrun_05.ds \
sentrun_06.ds \
sentrun_07.ds \
sentrun_grand.ds


correctHeadMotionDs -ls 24 sentrun_grand.ds sentrun_grandmc.ds
```

